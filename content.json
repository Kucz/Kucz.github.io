{"meta":{"title":"é–ƒé–ƒæ˜ŸèŒ«Â°å¤œç©ºã€ƒåšå®¢","subtitle":"æ—¥æ—¥è¡Œï¼Œä¸æ€•åƒä¸‡é‡Œï¼›å¸¸å¸¸åšï¼Œä¸æ€•åƒä¸‡äº‹ã€‚â€”â€”ã€Šæ ¼è¨€è”ç’§Â·å¤„äº‹ã€‹","description":"è°ä¸ä¼šä¼‘æ¯ï¼Œè°å°±ä¸ä¼šå·¥ä½œã€‚â€”â€”åˆ—å®","author":"é–ƒé–ƒæ˜ŸèŒ«Â°å¤œç©ºã€ƒ","url":"http://yoursite.com"},"pages":[{"title":"å…³äº","date":"2016-04-20T20:48:33.000Z","updated":"2018-07-16T08:36:15.530Z","comments":false,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"è‡ªæˆ‘ä»‹ç»æ–°äººä¸€æšï¼Œå¤šå¤šå…³ç…§&nbsp;&nbsp;&nbsp;&nbsp; æ–°äººä¸€æšï¼Œå¤šå¤šå…³ç…§&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ–°äººä¸€æšï¼Œå¤šå¤šå…³ç…§&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‡è¦çš„äº‹æƒ…è¯´ä¸‰é! å…¶ä»–èµ„æ–™ä»¥åè¡¥å……ğŸ˜Š å‹æƒ…é“¾æ¥æ–‡è—å­¦ç”Ÿ-Android"},{"title":"åˆ†ç±»","date":"2018-01-04T16:00:00.000Z","updated":"2018-07-11T01:27:20.451Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2018-01-04T16:00:00.000Z","updated":"2018-07-11T01:27:14.787Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"çœŸæœºè°ƒè¯•åŒ…","slug":"çœŸæœºè°ƒè¯•åŒ…","date":"2018-07-14T03:33:30.000Z","updated":"2018-07-16T10:35:39.127Z","comments":true,"path":"2018/07/14/çœŸæœºè°ƒè¯•åŒ…/","link":"","permalink":"http://yoursite.com/2018/07/14/çœŸæœºè°ƒè¯•åŒ…/","excerpt":"","text":"çœŸæœºåŒ…è·¯å¾„åœ¨FinderçŠ¶æ€ä¸‹å‰å¾€æ–‡ä»¶å¤¹ï¼Œå¿«æ·é”®ï¼š shift+command+Gå¡«å†™è·¯å¾„: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport 11.4(15F79)ä¸‹è½½ 11.2ä¸‹è½½ 11.1ä¸‹è½½ 11.0ä¸‹è½½ 10.3ä¸‹è½½ 10.2ä¸‹è½½ 10.1ä¸‹è½½ 10.0ä¸‹è½½ 9.3ä¸‹è½½ 9.2ä¸‹è½½ 9.1ä¸‹è½½ 9.0ä¸‹è½½ 8.4ä¸‹è½½ 8.3ä¸‹è½½ 8.2ä¸‹è½½ 8.1ä¸‹è½½ 8.0ä¸‹è½½ æ’’èŠ±å®Œç»“","categories":[{"name":"IOSå¼€å‘","slug":"IOSå¼€å‘","permalink":"http://yoursite.com/categories/IOSå¼€å‘/"}],"tags":[{"name":"çœŸæœºè°ƒè¯•åŒ…","slug":"çœŸæœºè°ƒè¯•åŒ…","permalink":"http://yoursite.com/tags/çœŸæœºè°ƒè¯•åŒ…/"}]},{"title":"iOS Appæœ¬åœ°åŒ–","slug":"iOS-Appæœ¬åœ°åŒ–","date":"2018-07-12T01:26:40.000Z","updated":"2018-07-16T08:06:33.505Z","comments":true,"path":"2018/07/12/iOS-Appæœ¬åœ°åŒ–/","link":"","permalink":"http://yoursite.com/2018/07/12/iOS-Appæœ¬åœ°åŒ–/","excerpt":"","text":"Appæœ¬åœ°åŒ–è¯­è¨€æœ¬åœ°åŒ–ï¼Œåˆå«åšè¯­è¨€å›½é™…åŒ–ã€‚æ˜¯æŒ‡æ ¹æ®ç”¨æˆ·æ“ä½œç³»ç»Ÿçš„è¯­è¨€è®¾ç½®ï¼Œè‡ªåŠ¨å°†åº”ç”¨ç¨‹åºçš„è¯­è¨€è®¾ç½®ä¸ºå’Œç”¨æˆ·æ“ä½œç³»ç»Ÿè¯­è¨€ä¸€è‡´çš„è¯­è¨€ã€‚å¾€å¾€ä¸€äº›åº”ç”¨ç¨‹åºéœ€è¦æä¾›ç»™å¤šä¸ªå›½å®¶çš„äººç¾¤ä½¿ç”¨ï¼Œæˆ–è€…ä¸€ä¸ªå›½å®¶æœ‰å¤šç§è¯­è¨€ï¼Œè¿™å°±è¦æ±‚åº”ç”¨ç¨‹åºæ‰€å±•ç¤ºçš„æ–‡å­—ã€å›¾ç‰‡ç­‰ä¿¡æ¯ï¼Œèƒ½å¤Ÿè®©è®²ä¸åŒè¯­è¨€çš„ç”¨æˆ·è¯»æ‡‚ã€çœ‹æ‡‚ã€‚è¿›è€Œæå‡ºä¸ºåŒä¸€ä¸ªåº”ç”¨ç¨‹åºé€‚é…å¤šç§è¯­è¨€ï¼Œä¹Ÿå³æ˜¯å›½é™…åŒ–ã€‚è¯­è¨€å›½é™…åŒ–ä¹‹æ‰€ä»¥åˆå«åšè¯­è¨€æœ¬åœ°åŒ–ï¼Œè¿™æ˜¯ç«™åœ¨æ¯ä¸ªç”¨æˆ·çš„è§’åº¦è€Œè¨€çš„ï¼Œæ˜¯æŒ‡èƒ½å¤Ÿè®©ç”¨æˆ·æœ¬åœ°ã€æœ¬åœŸäººç¾¤èƒ½å¤Ÿçœ‹æ‡‚çš„è¯­è¨€ä¿¡æ¯ï¼Œé¡¾åæ€ä¹‰ï¼Œè¯­è¨€æœ¬åœ°åŒ–ã€‚ æœ¬æ–‡ä»ä»¥ä¸‹å…­ä¸ªæ–¹é¢å…¥æ‰‹ é…ç½®éœ€è¦å›½é™…åŒ–çš„è¯­è¨€ï¼ˆå›½é™…åŒ–çš„å‡†å¤‡å·¥ä½œï¼‰ Appåç§°æœ¬åœ°åŒ– ä»£ç ä¸­å­—ç¬¦ä¸²æœ¬åœ°åŒ– å¤šäººå¼€å‘æƒ…å†µä¸‹çš„å­—ç¬¦ä¸²æœ¬åœ°åŒ– å›¾ç‰‡æœ¬åœ°åŒ–ï¼ˆä¸¤ç§æ–¹å¼ä¸¤ç§æ–¹å¼ï¼‰ æŸ¥çœ‹/åˆ‡æ¢æœ¬åœ°è¯­è¨€ é…ç½®éœ€è¦å›½é™…åŒ– é€‰ä¸­project-&gt;Info-&gt;Localizationsï¼Œç„¶åç‚¹å‡»â€+â€ï¼Œæ·»åŠ éœ€è¦å›½é™…åŒ–/æœ¬åœ°åŒ–çš„è¯­è¨€ï¼Œå¦‚ä¸‹å›¾ï¼ˆé»˜è®¤éœ€è¦å‹¾é€‰Use Base Internationalizationï¼‰ï¼š ä»¥æ·»åŠ ç®€ä½“ä¸­æ–‡ä¸ºä¾‹ï¼š æ·»åŠ ç®€ä½“ä¸­æ–‡åå¼¹å‡ºå¦‚ä¸‹å¯¹è¯æ¡†ï¼Œç›´æ¥ç‚¹å‡»finishï¼Œå¦‚ä¸‹å›¾ï¼š æ·»åŠ å…¶ä»–è¯­è¨€åŒä¸Šè¿°æµç¨‹ åº”ç”¨åç§°æœ¬åœ°åŒ–/å›½é™…åŒ–åº”ç”¨åç§°æœ¬åœ°åŒ–ï¼Œæ˜¯æŒ‡åŒä¸€ä¸ªAppçš„åç§°ï¼Œåœ¨ä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸‹ï¼ˆä¹Ÿå°±æ˜¯æ‰‹æœºè®¾å¤‡çš„è¯­è¨€è®¾ç½®ï¼‰æ˜¾ç¤ºä¸åŒçš„åç§°ã€‚ é€‰ä¸­å·¥ç¨‹ï¼ŒæŒ‰ä¸‹é”®ç›˜ä¸Šçš„command + Nï¼Œé€‰æ‹©Strings Fileï¼ˆiOS-&gt;Resource-&gt;Strings Fileï¼‰ æ–‡ä»¶åå­—å‘½åä¸ºInfoPlistï¼ˆå¿…é¡»æ˜¯è¿™ä¸ªåå­—ï¼‰ ç‚¹å‡»createåï¼ŒXcodeå·¦ä¾§å¯¼èˆªåˆ—è¡¨å°±ä¼šå‡ºç°åä¸ºInfoPlist.stringsçš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š é€‰ä¸­InfoPlist.stringsï¼Œåœ¨Xcodeçš„File inspectionï¼ˆXcodeå³ä¾§æ–‡ä»¶æ£€æŸ¥å™¨ï¼‰ä¸­ç‚¹å‡»Localizeï¼Œç›®çš„æ˜¯é€‰æ‹©æˆ‘ä»¬éœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€ï¼Œå¦‚ä¸‹å›¾ï¼š ç‚¹å‡»Localizeåï¼Œä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå±•å¼€å¯¹è¯æ¡†åˆ—è¡¨ï¼Œå‘ç°ä¸‹æ‹‰åˆ—è¡¨æ‰€å±•ç¤ºçš„è¯­è¨€æ­£æ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢é…ç½®çš„éœ€è¦å›½é™…åŒ–çš„è¯­è¨€ï¼Œé€‰æ‹©æˆ‘ä»¬éœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€ï¼Œç„¶åç‚¹å‡»å¯¹è¯æ¡†çš„LocalizeæŒ‰é’®ï¼Œå¦‚ä¸‹å›¾ï¼š å‹¾é€‰æ‰€æœ‰çš„è¯­è¨€ï¼Œå¦‚ä¸‹å›¾ï¼š å·¦ä¾§çš„InfoPlist.strings å‡ºç°å°ç®­å¤´ï¼Œç‚¹å‡»å±•å¼€ï¼Œå¦‚ä¸‹å›¾ï¼š åˆ†åˆ«ç»™ä¸åŒçš„è¯­è¨€ç»™InfoPlist.stringsä¸‹çš„æ–‡ä»¶è®¾ç½®å¯¹åº”çš„åå­—ã€‚ åœ¨InfoPlist.strings(english)ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 12// Localizable App Nameæ˜¯Appåœ¨è‹±è¯­ç¯å¢ƒç¯å¢ƒä¸‹æ˜¾ç¤ºçš„åç§°CFBundleDisplayName = \"Localizable App Name\"; åœ¨InfoPlist.strings(Simplified)ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 12// Localizable App Nameæ˜¯Appåœ¨è‹±è¯­ç¯å¢ƒç¯å¢ƒä¸‹æ˜¾ç¤ºçš„åç§°CFBundleDisplayName = \"æœ¬åœ°åŒ–\"; ä¿®æ”¹Appè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡ï¼Œè¿è¡ŒAppæ¨¡æ‹Ÿå™¨æ˜¾ç¤ºappåç§°ä¸ºâ€œæœ¬åœ°åŒ–â€ï¼Œå¦‚ä¸‹å›¾ï¼šä¿®æ”¹Appè¯­è¨€ä¸ºenglishï¼Œè¿è¡ŒAppæ¨¡æ‹Ÿå™¨æ˜¾ç¤ºappåç§°ä¸ºâ€œæœ¬åœ°åŒ–â€ï¼Œå¦‚ä¸‹å›¾ï¼š ä»£ç ä¸­å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²æœ¬åœ°åŒ–ï¼Œå°±æ˜¯æŒ‡Appå†…çš„å­—ç¬¦ä¸²åœ¨ä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸‹æ˜¾ç¤ºä¸åŒçš„å†…å®¹ã€‚æ¯”å¦‚ï¼Œâ€ä¸»é¡µâ€è¿™ä¸ªå­—ç¬¦ä¸²åœ¨ä¸­æ–‡è¯­è¨€ç¯å¢ƒä¸‹æ˜¾ç¤ºâ€œä¸»é¡µâ€ï¼Œåœ¨è‹±è¯­ç¯å¢ƒä¸‹æ˜¾ç¤ºâ€œhomeâ€ã€‚ åº”ç”¨åç§°æœ¬åœ°åŒ–ä¸€æ ·ï¼Œé¦–å…ˆéœ€è¦command + Nï¼Œé€‰æ‹©iOS -&gt; Resource -&gt; Strings File æ–‡ä»¶åå­—å‘½åä¸ºLocalizableï¼ˆå¿…é¡»æ˜¯è¿™ä¸ªåå­—ï¼‰ æ–‡ä»¶åˆ›å»ºæˆåŠŸï¼ŒæŸ¥çœ‹Xcodeå·¦ä¾§å¯¼èˆªåˆ—è¡¨ï¼Œå‘ç°å¤šäº†ä¸€ä¸ªåä¸ºLocalizable.stringsçš„æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š é€‰ä¸­Localizable.stringsï¼Œåœ¨Xcodeçš„File inspectionï¼ˆXcodeå³ä¾§æ–‡ä»¶æ£€æŸ¥å™¨ï¼‰ä¸­ç‚¹å‡»Localizeï¼Œç›®çš„æ˜¯é€‰æ‹©æˆ‘ä»¬éœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€ï¼Œå¦‚ä¸‹å›¾ï¼š ç‚¹å‡»Localizeåï¼Œä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå±•å¼€å¯¹è¯æ¡†åˆ—è¡¨ï¼Œå‘ç°ä¸‹æ‹‰åˆ—è¡¨æ‰€å±•ç¤ºçš„è¯­è¨€æ­£æ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢é…ç½®çš„éœ€è¦å›½é™…åŒ–çš„è¯­è¨€ï¼Œé€‰æ‹©æˆ‘ä»¬éœ€è¦æœ¬åœ°åŒ–çš„è¯­è¨€ï¼Œç„¶åç‚¹å‡»å¯¹è¯æ¡†çš„LocalizeæŒ‰é’®ï¼Œå¦‚ä¸‹å›¾ï¼š å‹¾é€‰æ‰€æœ‰çš„è¯­è¨€ï¼Œå¦‚ä¸‹å›¾ï¼š åˆ†åˆ«ç»™ä¸åŒçš„è¯­è¨€ç»™InfoPlist.stringsä¸‹çš„æ–‡ä»¶è®¾ç½®å¯¹åº”çš„åå­—ã€‚ åœ¨Localize.strings(english)ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 1\"home\" = \"home\"; åœ¨Localize.strings(Simplified)ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 1\"home\" = \"é¦–é¡µ\"; è·å–ä¸Šè¿°ä¾‹å­ä¸­â€œhomeâ€çš„å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼š 1NSString *home = NSLocalizedString(@\"home\", nil); æ¨¡æ‹Ÿå™¨è¯­è¨€ç¯å¢ƒâ€è‹±è¯­â€,å¦‚ä¸‹å›¾ï¼š æ¨¡æ‹Ÿå™¨è¯­è¨€ç¯å¢ƒâ€ç®€ä½“ä¸­æ–‡â€,å¦‚ä¸‹å›¾ï¼š å¤šäººå¼€å‘æƒ…å†µä¸‹çš„å­—ç¬¦ä¸²æœ¬åœ°åŒ–é¡¹ç›®å¼€å‘ä¸­ï¼Œç‹¬ç«‹å¼€å‘çš„è¿˜æ˜¯å°‘æ•°ã€‚ç»å¸¸ä¼šæœ‰å¤šäººå¼€å‘çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µï¼Œå¦‚æœå¤šäººåŒæ—¶æ“ä½œæœ¬åœ°åŒ–æ–‡ä»¶ï¼Œææœ‰å¯èƒ½ä¼šå­˜åœ¨å†²çªã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬åˆä¸å¸Œæœ›è‡ªå·±çš„æœ¬åœ°åŒ–æ–‡ä»¶å—åˆ°å¯¹æ–¹çš„æ±¡æŸ“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å¯¹æ–¹æ“ä½œæˆ‘ä»¬çš„æœ¬åœ°åŒ–æ–‡ä»¶ã€‚ä½†æ˜¯ä¸Šé¢ä»‹ç»çš„ä»£ç ä¸­å­—ç¬¦ä¸²çš„æœ¬åœ°åŒ–æ˜¯ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„æ–‡ä»¶åâ€Localizableâ€,å› ä¸ºå¯åŠ¨ç¨‹åºæ—¶ï¼Œç³»ç»Ÿå°†æ ¹æ®è¯­è¨€åŠ è½½ç›¸åº”çš„æ–‡ä»¶å¾—åˆ°å…¶å¯¹åº”çš„å­—ç¬¦ä¸²æ–‡ä»¶ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥é€šè¿‡ç³»ç»Ÿå°†NSLocalizedStringä¸­çš„å®ç”Ÿæˆåä¸ºâ€œLocalizable.stringsâ€çš„æ–‡ä»¶ã€‚é‚£ä¹ˆå¦‚ä½•è®©ç³»ç»ŸåŠ è½½æˆ‘ä»¬è‡ªå·±å‘½åçš„æœ¬åœ°åŒ–æ–‡ä»¶è€Œéç³»ç»Ÿé»˜è®¤çš„Localizable.stringså‘¢ï¼Ÿè¿™å°±æ˜¯ NSLocalizedStringFromTable(&lt;#key#&gt;, &lt;#tbl#&gt;, &lt;#comment#&gt;)çš„ç”¨å¤„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ çš„stringsæ–‡ä»¶åå­—ä¸æ˜¯Localizableè€Œæ˜¯è‡ªå®šä¹‰çš„è¯ï¼Œå¦‚VVS.stringsï¼Œé‚£ä¹ˆä½ å°±å¾—ä½¿ç”¨NSLocalizedStringFromTableè¿™ä¸ªå®æ¥è¯»å–æœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€‚1234// keyï¼šç³»ç»Ÿæ ¹æ®keyå–å­—ç¬¦ä¸²// tblï¼šè‡ªå®šä¹‰stringsæ–‡ä»¶çš„åå­—// commentï¼šå¯ä»¥ä¸ä¼ NSLocalizedStringFromTable(&lt;#key#&gt;, &lt;#tbl#&gt;, &lt;#comment#&gt;) åˆ›å»ºæ–°çš„stringsæ–‡ä»¶ï¼šéšä¾¿æ·»åŠ çš„å­—æ®µï¼šè°ƒè¯•ç»“æœï¼š å›¾ç‰‡æœ¬åœ°åŒ–æœ¬åœ°åŒ–å›¾ç‰‡ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ–¹å¼å’Œæœ¬åœ°åŒ–ä»£ç ä¸­çš„å­—ç¬¦ä¸²ä¸€æ ·ï¼Œé€šè¿‡NSLocalizedString(key,comment)æ¥è·å–ç›¸åº”çš„å­—ç¬¦ä¸²ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²å†è·å–å›¾ç‰‡ã€‚ æ–¹å¼ä¸€ï¼š 123NSString *imageName = NSLocalizedString(@\"icon\", nil);UIImage *image = [UIImage imageNamed:imageName];self.imageView.image = image; æ–¹å¼äºŒï¼š å…ˆå°†ç…§ç‰‡æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œç„¶åç‚¹å‡»Localizeï¼Œæœ¬æ–‡ä»¥arrow.pngä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾ï¼š ç‚¹å‡»Localizeåï¼Œè·³å‡ºä¸‹å›¾ï¼Œç‚¹å‡»localize ç„¶åé€‰æ‹©æ‰€æœ‰è¯­è¨€ï¼Œå¦‚ä¸‹å›¾ï¼š ä¸Šè¿°æ¡ˆä¾‹ä¸­çš„arrow.pngä¸­å‡ºç°ä¸‰è§’ç¬¦å·ï¼Œç‚¹å¼€å¯ä»¥çœ‹åˆ°å¯¹åº”è¯­è¨€çš„arrow.png é€‰ä¸­ç›¸åº”è¯­è¨€çš„ç…§ç‰‡ï¼Œå³å‡»arrow.png-&gt;show in Finderï¼Œå¯ä»¥çœ‹åˆ°ç›¸å¯¹åº”è¯­è¨€çš„æ–‡ä»¶å¤¹ï¼Œå°†ç›¸å¯¹åº”çš„ç…§ç‰‡æ”¾è¿›å»å³å¯ åˆ‡æ¢ä¸åŒè¯­è¨€æŸ¥çœ‹æ•ˆæœ 123456UIImageView *imageview = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];[self.view addSubview:imageview];imageview.center = self.view.center;//è·å–å›¾æ ‡åç§°NSString *imageName = NSLocalizedString(@\"arrow\", nil);[imageview setImage:[UIImage imageNamed:imageName]]; â€œè‹±è¯­â€ç¯å¢ƒ â€œç®€ä½“ä¸­æ–‡â€ç¯å¢ƒ æŸ¥çœ‹/åˆ‡æ¢æœ¬åœ°è¯­è¨€åº”ç”¨å¯åŠ¨æ—¶ï¼Œé¦–å…ˆä¼šè¯»å–NSUserDefaultsä¸­çš„keyä¸ºAppleLanguageså¯¹åº”çš„valueï¼Œè¯¥valueæ˜¯ä¸€ä¸ªStringæ•°ç»„123NSArray *languages = [[NSUserDefaults standardUserDefaults] valueForKey:@\"AppleLanguages\"];NSString *currentLanguage = languages.firstObject;NSLog(@\"æ¨¡æ‹Ÿå™¨å½“å‰è¯­è¨€ï¼š%@\",currentLanguage); åŒç†å¯æŸ¥çœ‹è¯­è¨€ï¼Œä¹Ÿå¯ä»¥è®¾ç½®è¯­è¨€12345678910111213// åˆ‡æ¢è¯­è¨€å‰NSArray *langArr1 = [[NSUserDefaults standardUserDefaults] valueForKey:@\"AppleLanguages\"];NSString *language1 = langArr1.firstObject;NSLog(@\"æ¨¡æ‹Ÿå™¨è¯­è¨€åˆ‡æ¢ä¹‹å‰ï¼š%@\",language1);// åˆ‡æ¢è¯­è¨€NSArray *lans = @[@\"en\"];[[NSUserDefaults standardUserDefaults] setObject:lans forKey:@\"AppleLanguages\"];// åˆ‡æ¢è¯­è¨€åNSArray *langArr2 = [[NSUserDefaults standardUserDefaults] valueForKey:@\"AppleLanguages\"];NSString *language2 = langArr2.firstObject;NSLog(@\"æ¨¡æ‹Ÿå™¨è¯­è¨€åˆ‡æ¢ä¹‹åï¼š%@\",language2); â€“ å®Œç»“ â€“","categories":[{"name":"IOSå¼€å‘","slug":"IOSå¼€å‘","permalink":"http://yoursite.com/categories/IOSå¼€å‘/"}],"tags":[{"name":"æœ¬åœ°åŒ–","slug":"æœ¬åœ°åŒ–","permalink":"http://yoursite.com/tags/æœ¬åœ°åŒ–/"}]},{"title":"3D Touchå¼€å‘","slug":"3D-Touchå¼€å‘","date":"2018-07-11T07:18:44.000Z","updated":"2018-07-16T08:05:52.314Z","comments":true,"path":"2018/07/11/3D-Touchå¼€å‘/","link":"","permalink":"http://yoursite.com/2018/07/11/3D-Touchå¼€å‘/","excerpt":"","text":"3D Touch3D Touch æ˜¯ä¸€ç§ç«‹ä½“è§¦æ§æŠ€æœ¯ï¼Œè¢«è‹¹æœç§°ä¸ºæ–°ä¸€ä»£å¤šç‚¹è§¦æ§æŠ€æœ¯ï¼Œæ˜¯åœ¨ Apple Watch ä¸Šé‡‡ç”¨çš„ Force Touchï¼Œå±å¹•å¯æ„Ÿåº”ä¸åŒçš„æ„Ÿå‹åŠ›åº¦è§¦æ§ã€‚ 3D Touchæœ‰ä¸‰å¤§æ¨¡å—ï¼š peek and pop å¸¸ç”¨äºUITableViewä¸UICollectionViewä¸­ï¼Œé•¿æŒ‰Cellä¼šé¢„è§ˆ Home Screen Quick Actions ç‚¹å‡»å›¾ç‰‡å¼¹å‡ºå¿«é€Ÿå…¥å£ Force Properties Home Screen Quick Actionså¼€å‘æŒ‡å—3D Touchå¿«é€Ÿå…¥å£æ ‡ç­¾æœ‰ä¸¤ç§æ·»åŠ æ–¹å¼ï¼šä¸€ç§æ˜¯é™æ€æ·»åŠ ï¼Œåœ¨å·¥ç¨‹ä¸­çš„info.plistæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³é¡¹ç›®ã€‚é¡¹ç›®å®‰è£…å°±å¯ä»¥ä½¿ç”¨å¦ä¸€ç§æ˜¯åŠ¨æ€æ·»åŠ ï¼Œé€šè¿‡ä»£ç ç»™Appæ·»åŠ å¿«é€Ÿå…¥å£ã€‚é¡¹ç›®è¿è¡Œä¸€æ¬¡åï¼Œå¯ä»¥å”¤é†’æ ‡ç­¾ info.plisté™æ€æ·»åŠ å…¥é™æ€æ·»åŠ å…¥å£æ ‡ç­¾ä¸éœ€è¦å†™ä»£ç ï¼Œåªéœ€è¦åœ¨info.plistæ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³åŠŸèƒ½è®¾ç½®å³å¯ã€‚åœ¨info.plistä¸­æ·»åŠ å¦‚ä¸‹ä¿¡æ¯ï¼š åˆ†æä¸€ä¸‹æ·»åŠ çš„é¡¹ç›®åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€ã€‚é¦–å…ˆæ˜¯UIApplicationShortcutItemsï¼Œä»–æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºä¸€ä¸ªå…¥å£æ ‡ç­¾ã€‚ç„¶åæ˜¯Item0ï¼Œè¿™æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå­—å…¸ç±»å‹ã€‚åœ¨è¿™ä¸ªå­—å…¸ä¸­é…ç½®å„ä¸ªæ ‡ç­¾çš„ç›¸å…³å±æ€§ã€‚ å­—æ®µå åŠŸèƒ½ æ˜¯å¦å¿…é¡» å¤‡æ³¨ UIApplicationShortcutItemType UIApplicationShortcutItemå¯¹è±¡çš„å”¯ä¸€æ ‡è¯†ç¬¦ true ç›‘å¬è¯¥é¡¹çš„å€¼æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯ä»å“ªä¸€ä¸ªæ ‡ç­¾è¿›å…¥Appçš„ï¼Œè¯¥å­—æ®µçš„å€¼å¯ä»¥ä¸ºç©ºã€‚ UIApplicationShortcutItemTitle UIApplicationShortcutItemå¯¹è±¡çš„æ ‡é¢˜ true UIApplicationShortcutItemSubtitle UIApplicationShortcutItemå¯¹è±¡çš„å‰¯æ ‡é¢˜ false UIApplicationShortcutItemIconType UIApplicationShortcutItemå¯¹è±¡çš„å›¾æ ‡ç±»å‹ false UIApplicationShortcutItemIconFile è‡ªå®šä¹‰æ ‡ç­¾å›¾ç‰‡æ–‡ä»¶çš„è·¯å¾„ false UIApplicationShortcutItemUserInfo ç”¨æˆ·ä¿¡æ¯ï¼Œæ˜¯ä¸€ä¸ªå­—å…¸ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥ä¼ å€¼ false åŠ¨æ€æ·»åŠ å…¥å£ä»£ç æ¥æ·»åŠ ï¼Œé¦–å…ˆæ¥è®¤è¯†ä¸‰ä¸ªç±»ï¼š ç±»å åŠŸèƒ½æè¿° UIApplicationShortcutItem åˆ›å»ºæ ‡ç­¾çš„ç±» UIMutableApplicationShortcutItem åˆ›å»ºå¯å˜æ ‡ç­¾ç±» UIApplicationShortcutIcon åˆ›å»ºæ ‡ç­¾iconçš„ç±» åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ï¼ŒAppDelegateä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š1234567891011121314- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions&#123; if (@available(iOS 9.0, *)) &#123; //åˆ›å»ºæ ‡ç­¾ UIApplicationShortcutItem *item1 = [[UIApplicationShortcutItem alloc] initWithType:@\"Share\" localizedTitle:@\"Share\" localizedSubtitle:@\"Share\" icon:[UIApplicationShortcutIcon iconWithType:UIApplicationShortcutIconTypeShare] userInfo:nil]; UIApplicationShortcutItem *item2 = [[UIApplicationShortcutItem alloc] initWithType:@\"è¯¦æƒ…\" localizedTitle:@\"è¯¦æƒ…\" localizedSubtitle:@\"è¯¦æƒ…\" icon:[UIApplicationShortcutIcon iconWithType:UIApplicationShortcutIconTypeHome] userInfo:nil]; UIApplicationShortcutItem *item3 = [[UIApplicationShortcutItem alloc] initWithType:@\"æµ‹è¯•\" localizedTitle:@\"æµ‹è¯•\" localizedSubtitle:@\"æµ‹è¯•\" icon:[UIApplicationShortcutIcon iconWithType:UIApplicationShortcutIconTypeLove] userInfo:nil]; //å°†æ ‡ç­¾æ·»åŠ è¿›Applicationçš„shortcutItemsä¸­ã€‚ NSMutableArray *itemArray = [NSMutableArray arrayWithObjects:item1,item2,item3, nil]; [UIApplication sharedApplication].shortcutItems = itemArray; &#125;else&#123; NSLog(@\"è®¾å¤‡ä¸æ”¯æŒ3D-Touch\"); &#125; return YES;&#125; ç³»ç»Ÿæä¾›äº†å¦‚ä¸‹æ ·å¼çš„æ ‡ç­¾ï¼š12345678910111213141516171819202122232425262728293031typedef NS_ENUM(NSInteger, UIApplicationShortcutIconType) &#123; UIApplicationShortcutIconTypeCompose, UIApplicationShortcutIconTypePlay, UIApplicationShortcutIconTypePause, UIApplicationShortcutIconTypeAdd, UIApplicationShortcutIconTypeLocation, UIApplicationShortcutIconTypeSearch, UIApplicationShortcutIconTypeShare, UIApplicationShortcutIconTypeProhibit NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeContact NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeHome NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeMarkLocation NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeFavorite NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeLove NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeCloud NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeInvitation NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeConfirmation NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeMail NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeMessage NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeDate NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeTime NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeCapturePhoto NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeCaptureVideo NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeTask NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeTaskCompleted NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeAlarm NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeBookmark NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeShuffle NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeAudio NS_ENUM_AVAILABLE_IOS(9_1), UIApplicationShortcutIconTypeUpdate NS_ENUM_AVAILABLE_IOS(9_1)&#125; NS_ENUM_AVAILABLE_IOS(9_0) __TVOS_PROHIBITED; ç³»ç»Ÿå›¾æ ‡ä¸æ»¡è¶³éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨+ (instancetype)iconWithTemplateImageName:(NSString *)templateImageName;æ·»åŠ è‡ªå®šä¹‰å›¾ç‰‡ä½œä¸ºæ ‡ç­¾ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå›¾ç‰‡å¿…é¡»é¢„å…ˆæ·»åŠ è¿›bundleã€‚ é€šè¿‡ç‚¹å‡»3D Touchå¯åŠ¨Appåœ¨AppDelegateä¸­ä¸å¦‚ä¸‹æ–¹æ³•123-(void)application:(UIApplication *)application performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem completionHandler:(void (^)(BOOL))completionHandler&#123;&#125; æ­¤æ–¹æ³•çš„shortcutItemå‚æ•°æºå¸¦äº†ä»å¿«é€Ÿå…¥å£è¿›å…¥appæ—¶çš„æ ‡ç­¾å‚æ•°ã€‚åˆ¤æ–­shortcutItem.localizedTitleå±æ€§çš„å€¼æ¥åˆ¤æ–­æ˜¯ä»å“ªä¸€ä¸ªæ ‡ç­¾è¿›å…¥çš„Appã€‚ è‡³æ­¤ 3D Touchå°±ä»‹ç»å®Œæ¯•äº†ã€‚ç”±äºæŠ€æœ¯æœ‰é™ï¼Œæ—¶é—´åŒ†å¿™ï¼Œéš¾å…ä¼šå­˜åœ¨çº°æ¼ï¼Œæ¬¢è¿æŒ‡æ­£","categories":[{"name":"IOSå¼€å‘","slug":"IOSå¼€å‘","permalink":"http://yoursite.com/categories/IOSå¼€å‘/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"MVVM ä¸ ReactiveCocoa","slug":"MVVM-and-RAC","date":"2018-07-10T05:46:58.000Z","updated":"2018-07-16T08:07:13.688Z","comments":true,"path":"2018/07/10/MVVM-and-RAC/","link":"","permalink":"http://yoursite.com/2018/07/10/MVVM-and-RAC/","excerpt":"","text":"MVVMæ¨¡å¼ä¸RAC MVVM æ˜¯ MVC æ¨¡å¼çš„ä¸€ç§æ¼”è¿›ï¼Œå®ƒä¸»è¦è§£å†³äº† ViewController è¿‡äºè‡ƒè‚¿å¸¦æ¥çš„ä¸æ˜“ç»´æŠ¤å’Œæµ‹è¯•çš„é—®é¢˜ã€‚å…¶ä¸­ ViewModel çš„ä¸»è¦èŒ è´£æ˜¯å¤„ç†ä¸šåŠ¡é€»è¾‘å¹¶æä¾› View æ‰€éœ€çš„æ•°æ®ï¼Œè¿™æ · VC å°±ä¸ç”¨å…³å¿ƒä¸šåŠ¡ï¼Œè‡ªç„¶ä¹Ÿå°±ç˜¦äº†ä¸‹æ¥ã€‚ViewModel åªå…³å¿ƒä¸šåŠ¡æ•°æ®ä¸å…³å¿ƒ Viewï¼Œæ‰€ä»¥ä¸ä¼šä¸ View äº§ç”Ÿè€¦åˆï¼Œä¹Ÿå°±æ›´æ–¹ä¾¿è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚ View æ˜¯ä¸€ä¸ªå£³ï¼Œå®ƒæ‰€å‘ˆç°çš„å†…å®¹éƒ½éœ€è¦ç”± ViewModel æ¥æä¾›ï¼Œè€Œ View åˆä¸ä¸ ViewModel ç›´æ¥æ²Ÿé€šï¼Œè¿™æ—¶å°±éœ€è¦ ViewController æ¥åšä¸­é—´çš„åè°ƒè€…ã€‚ViewController æŒæœ‰ Viewå’Œ ViewModelï¼Œå½“ VCåˆå§‹åŒ–æ—¶ï¼Œä¼šè®© ViewModel å»å–æ•°æ®ï¼Œç®€å•æ¥è¯´å°±æ˜¯è°ƒç”¨ VM çš„æŸä¸ªè·å–æ•°æ®çš„æ–¹æ³•ã€‚ ä½¿ç”¨ MVVM æœ€èˆ’æœçš„å§¿åŠ¿æ˜¯æ­é… ReactiveCocoaã€‚ä¸è¿‡å®ƒçš„é—®é¢˜åœ¨äºå­¦ä¹ æˆæœ¬å’Œç»´æŠ¤æˆæœ¬æ¯”è¾ƒé«˜ï¼Œåœ¨å°å›¢é˜Ÿä¸­æˆ–è®¸è¿˜å¯ä»¥å°è¯•ï¼Œå½“å¼€å‘äººå‘˜æ•°é‡è¾ƒå¤šæ—¶å°±å¾ˆéš¾æ¨èµ·æ¥äº†ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®²çš„ä¸»é¢˜ï¼šå¦‚ä½•ä¸å€ŸåŠ© ReactiveCocoa æ¥å®ç° MVVMã€‚ å…ˆä»æ•°æ®çš„è·å–å¼€å§‹è¯´èµ·å§ã€‚åœ¨ ReactiveCocoa é‡Œæœ‰ä¸€ä¸ªç±»å«ã€ŒRACCommandã€ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯æ‰§è¡ŒæŸä¸ªä¼šæ”¹å˜æ•°æ®çš„æ“ä½œï¼Œç„¶åæä¾›è·å–æ•°æ®çš„æ–¹æ³•ï¼Œè·Ÿæˆ‘ä»¬æƒ³è¦è¾¾åˆ°çš„ç›®çš„å¾ˆåƒï¼Œæ‰€ä»¥å¯ä»¥å€Ÿé‰´è¿™ä¸ªæ€è·¯ï¼Œå†™ä¸€ä¸ªç®€å•çš„ Commandã€‚ 12345678910111213141516171819202122232425262728293031typedef void(^MGJCommandCompletionBlock)(id error, id content);// 1typedef void(^MGJCommandConsumeBlock)(id input, MGJCommandCompletionBlock completionHandler);// 2typedef void(^MGJCommandCancelBlock)();@interface MGJCommandResult : NSObject// 3@property (nonatomic) NSError *error;// 4@property (nonatomic) id content;@end@interface MGJCommand : NSObject// 5@property (nonatomic, readonly) BOOL executing;// 6@property (nonatomic, readonly) MGJCommandResult *result;- (instancetype)initWithConsumeHandler:(MGJCommandConsumeBlock )consumeHandler;// 7- (instancetype)initWithConsumeHandler:(MGJCommandConsumeBlock )consumeHandler cancelHandler:(MGJCommandCancelBlock )cancelHandler;// 8- (void)execute:(id)input;// 9- (void)cancel;@end 1.inputæ˜¯å¤–éƒ¨ä¼ è¿‡æ¥çš„å€¼ï¼Œæ¯”å¦‚ user_idï¼Œå½“æ‹¿åˆ°æ•°æ®åï¼Œè°ƒç”¨ä¸‹ completionHandlerï¼Œè¿™æ · result å±æ€§å°±ä¼šå˜åŒ–2.æœ‰äº›æ“ä½œï¼Œå¦‚ http è¯·æ±‚ï¼Œéœ€è¦æ‰‹åŠ¨å–æ¶ˆ3.å•ç‹¬æŠŠ errorä½œä¸ºä¸€ä¸ªå±æ€§æ”¾å‡ºæ¥ï¼Œæ˜¯å› ä¸ºå¾ˆå¤šæ•°æ®è¯·æ±‚æ“ä½œéƒ½å¯èƒ½å‡ºé”™ï¼Œå½“å‡ºé”™åï¼Œåªéœ€æ”¹å˜è¿™ä¸ª error å±æ€§å³å¯ã€‚4.content å­˜æ”¾äº†è¿™ä¸ª Command çš„æ•°æ®å¤„ç†ç»“æœã€‚5.æ ‡è¯†äº†è¿™ä¸ª Command ç›®å‰çš„è¿è¡ŒçŠ¶æ€ï¼Œæ¯”å¦‚å¯ä»¥æ ¹æ®è¿™ä¸ªçŠ¶æ€æ¥æ˜¾ç¤º loadingã€‚6.æ¯æ¬¡ Command æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡åï¼Œresult éƒ½ä¼šæ”¹å˜ï¼Œå¤–éƒ¨å¯ä»¥ KVO è¿™ä¸ª resultï¼Œç„¶åå°±å¯ä»¥å®æ—¶è·å–æœ€æ–°çš„ç»“æœäº†ã€‚7.Command çš„æ‰§è¡Œé€»è¾‘ï¼Œå¦‚æœå®ç°äº† cancelHandler çš„è¯ï¼Œå¤–éƒ¨è°ƒç”¨ cancelï¼Œè¿™ä¸ª Handler å°±ä¼šè¢«è§¦å‘ã€‚8.å¤–éƒ¨å¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥è§¦å‘ Command çš„æ‰§è¡Œï¼ŒåŒæ—¶å¯ä»¥ä¼ ä¸€ä¸ªå‚æ•°è¿›æ¥ã€‚9.å¤–éƒ¨å¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥å–æ¶ˆ Command çš„æ‰§è¡Œã€‚ å®ç°èµ·æ¥ä¹Ÿè›®ç®€å•çš„ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚ç”¨èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·ï¼š 1234567891011// SomeViewModel.m@weakify(self);self.followCommand = [[MGJCommand alloc] initWithConsumeHandler:^(id input, MGJCommandCompletionBlock completionHandler) &#123; @strongify(self); [FollowRequest getFollowList:(NSDictionary *)input success:^(NSArray *users) &#123; self.usersToFollow = users; completionHandler(nil, kFollowExpertSearchSucceedSignal); &#125; failure:^(StatusEntity *error) &#123; completionHandler(error, nil); &#125;];&#125;]; åœ¨ ViewController é‡Œçš„ç”¨æ³•å¤§æ¦‚åƒè¿™æ ·1234567// SomeViewController.m- (void)didTapFollowButton:(UIButton *)button&#123; // æ ¹æ® button æ‰¾åˆ° userID [self.viewModel.followCommand execute:userID];&#125; å°±æ˜¯è¿™æ ·ï¼ŒVC æœ¬èº«ä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œéƒ½äº¤ç»™ ViewModel å»å¤„ç†ï¼Œè€Œè¿™äº›æ•°æ®è¯·æ±‚çš„ç»“æœå¤„ç†åˆæœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚ Delegateå½“ ViewModel æ‹¿åˆ°æ•°æ®åï¼Œå¯ä»¥æŠŠç»“æœä»¥ Delegate çš„æ–¹å¼é€šçŸ¥ VCï¼Œå°±åƒè¿™æ ·1234567// SomeViewController.m- (void)didFollowUserWithResult:(id)result&#123; self.followButton.enabled = YES; [self.followButton doSomeAnimation];&#125; è¿™æ ·åšçš„å¥½å¤„æ˜¯æ¯”è¾ƒç¬¦åˆè‹¹æœæ—¢æœ‰çš„è®¾è®¡æ¨¡å¼ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹ Delegate åè®®æ¥çŸ¥é“ VM æš´éœ²äº†å“ªäº›æ¥å£ä¾›å¤–éƒ¨ä½¿ç”¨ã€‚ ä¸è¿‡è¿™ç§æ–¹æ³•å°‘äº†ç‚¹çµæ´»æ€§ï¼Œæ¯”å¦‚éœ€è¦è”åˆå¤šä¸ªå±æ€§çš„å˜åŒ–æ¥åšä¸€äº›äº‹æƒ…æ—¶ï¼Œå¤„ç†èµ·æ¥å°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ä¹Ÿæ˜¯ RAC å¼ºå¤§çš„åœ°æ–¹ã€‚ KVORAC æ˜¯åŸºäº KVO æ„å»ºçš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨ KVO æ¥è®© VC è·å– VM çš„å˜åŒ–ã€‚ä½†æˆ‘ä»¬éƒ½çŸ¥é“ KVO çš„æ§½ç‚¹æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿ï¼Œç”¨å®Œè¿˜è¦è®°å¾—ç§»é™¤ç­‰ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨ Facebook å¼€æºçš„ KVOControllerï¼Œå®ƒæ¯”è¾ƒå¥½çš„å¤„ç†äº† KVO å­˜åœ¨çš„ä¸€äº›é—®é¢˜ï¼ŒåŒæ—¶åˆèƒ½å‘æŒ¥ KVO å¸¦æ¥çš„ä¾¿æ·æ€§ã€‚æœ‰äº†å®ƒæˆ‘ä»¬å°±èƒ½åœ¨ä¸€ä¸ªåœ°æ–¹æŠŠ VM çš„æ›´æ–°å¤„ç†æ‰äº†123456789- (void)handleViewModelUpdate&#123; [self.KVOController observe:self.viewModel keyPath:@\"followCommand.result\" options:NSKeyValueObservingOptionInitial|NSKeyValueObservingOptionNew block:^(id observer, id target, NSDictionary *change) &#123; id newValue = change[NSKeyValueChangeNewKey]; // doSomething with the newValue &#125;]; // å¯¹ VM å…¶ä»– keyPath çš„å¤„ç†ä¹Ÿéƒ½å¯ä»¥æ”¾åˆ°è¿™é‡Œ&#125; å¦‚æœè§‰å¾—è¿™æ ·çš„å†™æ³•è¿˜æ˜¯å¤ªéº»çƒ¦ï¼Œå¯ä»¥åšä¸€å±‚ç®€å•çš„å°è£…ï¼Œä½¿ç”¨èµ·æ¥å°±åƒè¿™æ · 123456- (void)handleViewModelUpdate&#123; [self observe:self.viewModel keyPath:@\"followCommand.result\" block: ^(id newValue)&#123; // use newValue to update view &#125;];&#125; æ˜¯ä¸æ˜¯ä¼šå¥½ä¸€ç‚¹ï¼Œä½¿ç”¨ KVO æ¯” Delegate å¥½çš„ä¸€ç‚¹æ˜¯ä¸ç”¨å†é¢å¤–å£°æ˜åè®®å’Œæ–¹æ³•ï¼Œè€Œä¸”æ”¯æŒ blockï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿä¼šæ–¹ä¾¿äº›ã€‚å¯¹äºåƒ error è¿™æ ·å¾ˆå¤šæ“ä½œéƒ½ä¼šäº§ç”ŸåŒæ ·ç»“æœçš„åœºæ™¯ï¼Œå¯ä»¥å•ç‹¬æ‹¿å‡ºæ¥ï¼Œä½œä¸º ViewModel çš„ä¸€ä¸ªå±æ€§ï¼Œä½¿ç”¨æ—¶ï¼Œç›´æ¥ KVO è¿™ä¸ªå±æ€§å³å¯ã€‚ ç»†èŠ‚å¤„ç†å¦‚æœä¸æ¶‰åŠåˆ° TableView ç­‰ä¼šå‡ºç°å¤ç”¨åœºæ™¯çš„åœ°æ–¹ï¼ŒMVVM ä½¿ç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚å¦‚æœæœ‰äº† TableViewï¼Œåˆè¦åšä¸€äº›é¢å¤–çš„å¤„ç†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼ŒVC å¯ä»¥å¸¦ä¸€ä¸ª VMï¼Œé‚£å¦‚æœå‡ºç° Cell æ—¶æ€ä¹ˆåŠï¼ŒCell é‡ŒåˆåŒ…å«äº†æŒ‰é’®ï¼ŒæŒ‰é’®åˆéœ€è¦æ•°æ®è¯·æ±‚åˆæ€ä¹ˆå¤„ç†ï¼Ÿè¿™äº›éƒ½æ˜¯æ¯”è¾ƒå¸¸è§çš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ MVVM æ¥è§£å†³ã€‚ æˆ‘ä»¬çŸ¥é“ VM çš„èŒè´£æ˜¯ä¸º View æä¾›æ•°æ®æ”¯æŒï¼ŒCell ä¹Ÿæ˜¯ä¸€ä¸ª Viewï¼Œé‚£ä¹ˆä¸º Cell é…å¤‡ä¸€ä¸ª VM ä¸å°±å¯ä»¥äº†ä¹ˆã€‚ è¿™æ ·çš„è¯ï¼ŒVC çš„ VM éœ€è¦åŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯ CellVMï¼Œä½¿ç”¨èµ·æ¥å°±åƒè¿™æ · 1234567891011121314// SomeViewController.m- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath&#123; UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"Cell\" forIndexPath:indexPath]; cell.viewModel = self.viewModel.cellViewModels[indexPath.row]; // cell å¯èƒ½ä¼šç”¨åˆ° cellVM é‡Œçš„ Commandï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå¤„ç† command çš„æ‰§è¡Œç»“æœ [self observe:cell keyPath:@\"likeCommand.result\" block: ^(id newValue)&#123; // update cell after like &#125;]; return cell&#125; å½“ç„¶ä»…ä»…å¦‚æ­¤æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾ä¸ªæ°å½“çš„æ—¶æœºæŠŠ KVO ç§»é™¤ï¼Œé¿å…å¤šæ¬¡ç›‘å¬ã€‚UITableViewDelegate é‡Œçš„è¿™ä¸ªæ–¹æ³•å°±å¾ˆé€‚åˆã€‚ 123456// SomeViewController.m- (void)tableView:(UITableView *)tableView didEndDisplayingCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath&#123; [self unobserve:cell keyPath:@\"likeCommand.result\"];&#125; ä¸è¿‡è¿™é‡Œä¹Ÿè¦è®²ç©¶ä¸€ä¸ªå¹³è¡¡ï¼Œå¦‚æœ Cell çš„ç±»å‹æ¯”è¾ƒå¤šï¼Œä¸”æ¶‰åŠ Command çš„åœ°æ–¹ä¸å¤šï¼Œåªæ˜¯åšå‘ˆç°æ–¹é¢çš„å·¥ä½œï¼Œç›´æ¥ä½¿ç”¨ Entity ä¼šæ›´æ–¹ä¾¿ã€‚ Tips ViewController å°½é‡ä¸æ¶‰åŠä¸šåŠ¡é€»è¾‘ï¼Œè®© ViewModel å»åšè¿™äº›äº‹æƒ…ã€‚ ViewController åªæ˜¯ä¸€ä¸ªä¸­é—´äººï¼Œæ¥æ”¶ View çš„äº‹ä»¶ã€è°ƒç”¨ ViewModel çš„æ–¹æ³•ã€å“åº” ViewModel çš„å˜åŒ–ã€‚ ViewModel ä¸èƒ½åŒ…å« Viewï¼Œä¸ç„¶å°±è·Ÿ View äº§ç”Ÿäº†è€¦åˆï¼Œä¸æ–¹ä¾¿å¤ç”¨å’Œæµ‹è¯•ã€‚ ViewModel ä¹‹é—´å¯ä»¥æœ‰ä¾èµ–ã€‚ ViewModel é¿å…è¿‡äºè‡ƒè‚¿ï¼Œä¸ç„¶ç»´æŠ¤èµ·æ¥ä¹Ÿæ˜¯ä¸ªé—®é¢˜ã€‚MVVM å¹¶ä¸å¤æ‚ï¼Œè·Ÿ MVC ä¹Ÿæ˜¯å…¼å®¹çš„ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ª ViewModel å±‚ï¼Œä½†å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªå°æ”¹åŠ¨ï¼Œå°±èƒ½è®©ä»£ç å˜å¾—æ›´åŠ å®¹æ˜“é˜…è¯»å’Œç»´æŠ¤ï¼Œä¸å¦¨è¯•ä¸€ä¸‹å§ã€‚ ä»¥ä¸Šä¸ºè®°å½•è´´","categories":[{"name":"IOSå¼€å‘","slug":"IOSå¼€å‘","permalink":"http://yoursite.com/categories/IOSå¼€å‘/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://yoursite.com/tags/iOS/"}]},{"title":"ç¬¬ä¸€ç¯‡åšå®¢","slug":"Prolusion","date":"2018-07-09T02:32:01.000Z","updated":"2018-07-17T01:17:50.234Z","comments":true,"path":"2018/07/09/Prolusion/","link":"","permalink":"http://yoursite.com/2018/07/09/Prolusion/","excerpt":"","text":"ç«™ç‚¹æ­å»ºåŠç”±æ¥ï¼šçœ‹ç€åŒäº‹åœ¨è¿ç§»åšå®¢ï¼Œä¸ç”±å¾—æƒ³æƒ³æˆ‘æ˜¯ä¸æ˜¯éœ€è¦ä¸€ä¸ªåšå®¢æ¥è®°å½•è‡ªå·±é‡åˆ°çš„é—®é¢˜å’Œä¸€äº›è§è§£ï¼Œç„¶åå†³å®šè‡ªå·±å¼„ä¸€ä¸ªåšå®¢ç©ç©ã€‚ å®‰è£…å®‰è£…å‰æéœ€è¦å®‰è£… Node.js å’Œ Git ä¸¤ä¸ªåº”ç”¨ç¨‹åºï¼Œç›´æ¥åˆ°å®˜ç½‘å®‰è£…æœ€æ–°ç‰ˆæœ¬å³å¯ï¼Œå¦‚å·²å®‰è£…è¯·è·³è¿‡ã€‚ Node.js å®˜ç½‘ Git å®˜ç½‘ å®‰è£…Hexoå®‰è£…å®ŒNode.js åŠ Git åï¼Œå³å¯åœ¨ç»ˆç«¯ä½¿ç”¨npmæ¥å®‰è£…Hexoï¼š1$ npm install -g hexo-cli å¦‚é‡åˆ°æƒé™é—®é¢˜ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹ä»£ç å®‰è£…Hexoï¼š1$ sudo npm install -g hexo-cli åˆå§‹åŒ–Hexo123$ hexo init HexoBlog$ cd ~/HexoBlog/$ npm install æ–°å»ºå®Œæˆåï¼Œå¾—åˆ°ä¸€ä¸‹ç›®å½•ï¼š12345678Â·|-- _config.yml|-- package.json|-- scaffolds|-- source| |-- _drafts| |-- _posts|-- themes åˆ°è¿™é‡Œæ‚¨å·²ç»å®Œæˆäº†Hexoçš„å®‰è£…åŠåˆå§‹åŒ–ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæœ¬åœ°çš„é¢„è§ˆå•¦ï¼šå…ˆå®‰è£…hexo server1$ sudo npm install hexo-server ç„¶åç”Ÿæˆæœ¬åœ°é¡µé¢å¹¶è¿è¡Œ12$ hexo generate (æˆ– hexo g)$ hexo server (æˆ– hexo s) æŒ‰å‘½ä»¤è¡Œæç¤ºï¼Œæ‰“å¼€ http:\\/\\/localhost:4000\\/ å³å¯çœ‹åˆ°é»˜è®¤ä¸»é¢˜çš„é»˜è®¤é¡µé¢äº†ã€‚å¯èƒ½åŠ è½½ä¼šå¾ˆæ…¢ï¼Œå› ä¸ºé»˜è®¤ä¸»é¢˜ä¸­ä½¿ç”¨äº†äº›Googleçš„èµ„æºï¼Œåé¢æ›´æ¢ä¸»é¢˜å°±ä¼šå¿«å¾ˆå¤šäº†ã€‚ é…ç½®ä¸Githubè´¦æˆ·å…³è”é¦–å…ˆéœ€è¦å»Githubæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå¹¶æ–°å»ºä¸€ä¸ªåä¸º [your_account].github.io çš„ä»“åº“ã€‚ç„¶åæ‰“å¼€å‰é¢åˆ›å»ºçš„HexoBlogç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ï¼Œåœ¨ä¿®æ”¹æœ€ä¸‹æ–¹çš„deployä¸ºï¼š*æ³¨æ„ï¼Œå†’å·åé¢ä¸€å®šè¦åŠ ç©ºæ ¼1234deploy: type: git repo: gihub: https://github.com/[your_account]/[your_accout].github.io.git branch: master æ¥ä¸‹æ¥å®‰è£…hexoçš„gitéƒ¨ç½²ï¼Œåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š1$ npm install hexo-deployer-git --save æœ€åï¼Œå°†ç”Ÿæˆé™æ€é¡µé¢å¹¶éƒ¨ç½²åˆ°githubçš„ä»“åº“ä¸­ï¼Œæ‰§è¡Œï¼š1234$ hexo d -g æˆ–è€…$ hexo generate$ hexo deploy å½“æç¤º INFO Deploy done: git å³ä¸Šä¼ æˆåŠŸï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡ http:\\/\\/[your_account].github.io æ¥è®¿é—®ä½ çš„ä¸ªäººç«™ç‚¹äº†ã€‚ hexoçš„åŸºæœ¬é…ç½®ä»¥ä¸‹æ˜¯hexoé…ç½®æ–‡ä»¶ _config.yml çš„åŸºæœ¬å†…å®¹åŠåŸºæœ¬è®¾ç½®ï¼Œæ›´å¤šä¸ªæ€§åŒ–è®¾ç½®è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Site ##é¡µé¢ä¿¡æ¯title: Who's Blog ##æ ‡é¢˜ï¼Œå³æµè§ˆå™¨æ ‡ç­¾æ æ˜¾ç¤ºçš„å†…å®¹subtitle: Why so serious? ##å‰¯æ ‡é¢˜description: ##æè¿°ï¼Œç®€ä»‹author: Charles Wei ##ä½œè€…language: zh-CN ##è¯­è¨€timezone: Asia/Shanghai ##æ—¶åŒº# URL## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'url: http://wwww.charleswei.me ##åŸŸåï¼Œåé¢è‡ªå®šä¹‰åŸŸååï¼Œå†™åœ¨è¿™é‡Œï¼Œç”¨ .github.ioçš„è¯ï¼Œè¿™é‡Œç”¨é»˜è®¤çš„ä¸ç”¨æ”¹root: /permalink: :year/:month/:day/:title/permalink_defaults:# Directory ##æ–‡ä»¶ç›®å½•ï¼Œå¯ä¸æ”¹source_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writing ##é™æ€é¡µé¢ç”Ÿæˆå±æ€§ï¼Œå¯ä¸æ”¹new_post_name: :year-:month-:day-:title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace:# Category &amp; Tag ##æ ‡ç­¾ï¼Œå¯ä¸æ”¹default_category: uncategorizedcategory_map:tag_map:# Date / Time format ##æ—¶é—´æ ¼å¼ï¼Œå¯ä¸æ”¹## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination ##æ¯é¡µæ˜¾ç¤ºæ–‡ç« æ•°ï¼ŒæŒ‰éœ€æ”¹## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Extensions ##ä¸»é¢˜è®¾ç½®## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: indigo# Deployment ##gitéƒ¨ç½²å…³è”## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: github: https://github.com/glassweichao/glassweichao.github.io.git branch: master ä¸»é¢˜é…ç½®Hexoå…·æœ‰é«˜å®šåˆ¶çš„ä¸»é¢˜æ•ˆæœï¼Œä½ å¯ä»¥ä»Hexoçš„ä¸»é¢˜åº“ä¸­é€‰æ‹©åˆé€‚çš„ä¸»é¢˜ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ¶ä½œã€‚ä»¥æˆ‘ç°åœ¨ä½¿ç”¨çš„indigoä¸»é¢˜ä¸ºä¾‹ã€‚é¦–å…ˆå°†ä¸»é¢˜åº“cloneåˆ°MyBlogç›®å½•ä¸‹çš„themesç›®å½•ï¼š1$ git clone git@github.com:yscoder/hexo-theme-indigo.git themes/indigo å®‰è£…lessï¼Œä¸»é¢˜ä½¿ç”¨lessä½œä¸ºcssé¢„å¤„ç†å·¥å…·ï¼š1$ npm install hexo-renderer-less --save å®‰è£…feed,ç”¨äºç”ŸåƒRSSï¼š1$ npm install hexo-generator-feed --save å®‰è£…json-contentï¼Œç”¨äºç”Ÿæˆé™æ€ç«™ç‚¹æ•°æ®ï¼Œæä¾›æœç´¢åŠŸèƒ½çš„æ•°æ®æºï¼š1$ npm install hexo-generator-json-content --save å¼€å¯æ ‡ç­¾é¡µï¼š1$ hexo new page tags ä¿®æ”¹HexoBlog/source/tags/index.mdçš„æºæ•°æ®ï¼š1234layout: tagsnoDate: truecomments: false--- ä¿®æ”¹hexoé…ç½®æ–‡ä»¶_config.ymlä¸­çš„ä¸»é¢˜æ ‡ç­¾ï¼š1theme: indigo æœ€åä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶MyBlog/themes/indigo/_config.ymlï¼š1234567891011121314151617181920212223242526272829303132333435363738#æ·»åŠ æ–°èœå•é¡¹éµå¾ªä»¥ä¸‹è§„åˆ™# menu:# link: fontawesomeå›¾æ ‡ï¼Œçœç•¥å‰ç¼€ï¼Œæœ¬ä¸»é¢˜å‰ç¼€ä¸º icon-ï¼Œå¿…é¡»# text: About èœå•æ˜¾ç¤ºçš„æ–‡å­—ï¼Œå¦‚æœçœç•¥å³é»˜è®¤ä¸å›¾æ ‡ä¸€è‡´ï¼Œé¦–å­—æ¯ä¼šè½¬å¤§å†™# url: /about é“¾æ¥ï¼Œç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„ï¼Œå¿…é¡»ã€‚# target: _blank æ˜¯å¦è·³å‡ºï¼Œçœç•¥åˆ™åœ¨å½“å‰é¡µé¢æ‰“å¼€menu: home: text: ä¸»é¡µ url: / archives: url: /archives tags: url: /tags github: url: https://github.com/glassweichao target: _blank link: text: æµ‹è¯• url: /404rss: /atom.xml#ä½ çš„å¤´åƒ,æ›¿æ¢æ‰ indigo/source/img/logo.jpg å³å¯urlavatar: /img/logo.jpg# Contenttags: title: æ ‡ç­¾#æ˜¯å¦å¼€å¯åˆ†äº«share: true#æ˜¯å¦å¼€å¯æœç´¢search: true#æ˜¯å¦å¤§å±å¹•ä¸‹æ–‡ç« é¡µéšè—å¯¼èˆªhideMenu: true#æ˜¯å¦å¼€å¯toc#toc: false å…³é—­toctoc: list_number: true # æ˜¯å¦æ˜¾ç¤ºæ•°å­—æ’åº#æµè§ˆå™¨æ ‡ç­¾æ å°å›¾æ ‡favicon: /favicon.ico æœ€åç”Ÿæˆéƒ¨ç½²ï¼Œæ¥çœ‹çœ‹æ•ˆæœå§12$ hexo clean$ hexo d -g å¾…åŠè´­ä¹°ä¸€ä¸ªåŸŸåï¼Œç„¶åç»‘å®šåˆ°å½“å‰é¡µé¢ â€“ å®Œç»“ â€“","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/tags/éšç¬”/"}]}]}